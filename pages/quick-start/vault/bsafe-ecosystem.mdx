import {Callout} from "nextra/components";
import { Cards, Card } from 'nextra/components';

# BSafe ecosystem

Enable create and manage your vault inner BSafe.

<Callout type="warning">
    Authentication is required to integrate with BSafe ecosystem, we provide a method for start a session.
    [Read the docs](https://github.com/indutny/bn.js/)
</Callout>

## Create

BSafe allows create a vault in our ecosystem, is same in standalone, but you provide the **auth** property.

```tsx copy
import {Vault, AuthService} from "bsafe";
import {Provider} from "@fuel-ts/providers";

const auth = await AuthService.create();
const provider = await Provider.create('PROVIDER_URL');
const vaultPayload = {
    configurable: {
      network: provider.url,
      chainId: provider.getChainId(),
      SIGNERS: ['ADDRESS_1', 'ADDRESS_2'],
      SIGNATURES_COUNT: 1,
      HASH_PREDICATE: [1, 2],
    },
    provider: provider,
    auth,
}

// Create vault
const vault = await Vault.create(vaultPayload);
console.log(vault.BSAFEVaultId);
```

After your vault created in ecosystem, you can get this properties in vault instance:
- **BSAFEVaultId**: Identifier of vault in our ecosystem.
- **BSAFEVault**: Data of vault in our ecosystem.


## Next step

Now with your Vault created in our ecosystem you can interact with it, follow the link to check all available method's.

<Cards num={1}>
    <Card arrow title="Vault methods" href="/quick-start/vault/methods" />
</Cards>



## Address
When instantiating your Vault, it is possible to get the address of
your Vault with the following property `vault.address`

```tsx copy
import {Vault} from "bsafe";

const vault = new Vault({
    configurable: {
        network: 'FUEL_NETWORK',
        SIGNATURES_COUNT: 1,
        SIGNERS: ['FUEL_ACCOUNT_ADDRESS'],
        HASH_PREDUCATE: undefined,
    }
});

console.log(vault.address); // fuel1123klajsdh....
```

## Balance
With your Vault instance, you can search for the balance in ETH with the following method `vault.getBalance()`
this method will return a [BN](https://github.com/indutny/bn.js/), to convert in string execute `balance.format()`

```tsx copy
import {Vault} from "bsafe";

const vault = new Vault({
    configurable: {
        network: 'FUEL_NETWORK',
        SIGNATURES_COUNT: 1,
        SIGNERS: ['FUEL_ACCOUNT_ADDRESS'],
        HASH_PREDUCATE: undefined,
    }
});

const balance = await vault.getBalance();

console.log(balance.format()); // Result: 0.0000000
```

## Assets
To search for all Assets in your predicate, run the `vault.getBalances()` method.
This method will return a list of CoinQuantities with the following properties:
- amount: value of your Asset in BN
- assetId: identifier of your asset "0x000...."

```tsx copy
import {Vault} from "bsafe";

const vault = new Vault({
    configurable: {
        network: 'FUEL_NETWORK',
        SIGNATURES_COUNT: 1,
        SIGNERS: ['FUEL_ACCOUNT_ADDRESS'],
        HASH_PREDUCATE: undefined,
    }
});

const assets = await vault.getBalances();

console.log(assets); // CoinQuantity[]
```
