import { Cards, Card } from 'nextra/components';
import Image from 'next/image';

## Vault

In the context of web3 applications and blockchain, a Vault is a secure storage used for managing and protecting crypto assets. It often includes features such as multi-signature approvals and time delays for transactions.
Bako Safe was developed based on Fuel Predicates, this is a smart contract that defines a certain type of transaction. In Fuel, an Ethereum Layer-2 blockchain, these predicates handle different types of operations securely and efficiently. Essentially, they dictate how a transaction or operation is processed in the system. 
The following sections will provide details on how to generate a Vault instance and manage it.


## Vaults Usage
Bako Safe offers two ways of managing a Vault: **Standalone** and by using the **Bako Safe Ecosystem**.

- **Standalone**: This implies that the application or system is able to function independently. In the case of Bako Safe, using it in a standalone mode refers to managing the Multisig Wallet or the Vault on your own.

- **Bako Safe Ecosystem**: This platform enables seamless management of your Vault within our app. You can view signatories, transactions, and balances, etc... and allows to use your Vault in other DApps via Wallet Connector.



## Standalone

```ts
import { IPayloadVault, Vault, BakoSafe } from "bakosafe"
import { Address } from 'fuels'

const params: IPayloadVault = {
    name: "My First Vault",
    description: "This is my first example of a Vault",
    configurable: {
        SIGNATURES_COUNT: 1,
        SIGNERS: [
            Address.fromRandom().toString(),
            Address.fromRandom().toString(),
        ],
        network: BakoSafe.getProviders('CHAIN_URL')
    }
}

const vault = await Vault.create(VaultPayload);

console.log(vault.address.toString());

```


## Bako Safe Ecosystem

```ts
import { 
    IPayloadVault, 
    Vault, 
    BakoSafe, 
    Auth, 
    TypeUser, 
    IAuthCreateRequest
} from "bakosafe"

import { Address } from 'fuels'

const YOUR_PRIVATE_KEY = <YOUR_PRIVATE_KEY>;
const YOUR_ADDRESS = <YOUR_ADDRESS>;
 
const params: IAuthCreateRequest = {
    address: YOUR_ADDRESS, // fuels..dsai
    provider: BakoSafe.getProviders('PROVIDER'), // https://beta-5.fuel.network/graphql for example
    type: TypeUser.FUEL, // TypeUser.FUEL
};
const auth = await Auth.create(params);
 
//sign auth code using your PK
const sig = await Auth.signerByPk(YOUR_PRIVATE_KEY, auth.code);
await auth.signerByAccount(sig);

const params: IPayloadVault = {
    name: "My First Vault",
    description: "This is my first example of a Vault",
    configurable: {
        SIGNATURES_COUNT: 1,
        SIGNERS: [
            Address.fromRandom().toString(),
            Address.fromRandom().toString(),
        ],
        network: BakoSafe.getProviders('CHAIN_URL')
    }
}

const vault = await Vault.create(VaultPayload);

console.log(vault.address.toString());
```

For more details on authentication, please refer to [this link](./auth).